\chapter{Requirement Analysis}
This chapter includes analysis of the requirements of the system based on the problem statement described in the previous chapter. Furthermore, the main goal of the software as well as other specifications will be analyzed.

\section{Goal}
The goal of this thesis is to develop a functional prototype of a mobile application that monitors users' health and activity by observing users' heart rate. To observe one's heart rate, the application will establish connection to a heart rate sensor via bluetooth low energy.
With the help of bluetooth low energy connection, the sensor is able to broadcast heart rate data to the application while consuming minimal energy.
The retrieved data will be stored in local database instead of cloud services or wearable devices to ensure data privacy. The user will also be given full control over their data, allowing them to modify or delete their data according to their will at anytime.
The retrieved data can be accessed later for visualization purposes as long as it is available. Furthermore, the application should be able to calculate users' energy expenditure during their exercise based on their heart rate, age, gender, weight, duration of exercise.

\section{State of the Art}
Health monitoring using wearable devices has gained immense popularity, enabling individuals to conveniently monitor their health and fitness. Bluetooth low energy (BLE) plays an important role in establishing connection between wearable device, which acts as a sensor, and the application. 
BLE offers real-time data exchange while consuming low power, which allows for long-term deployment without the need of frequent battery change. \cite{strey2013ble}
Existing applications utilizing BLE offer a range of features and functionalities such as heart rate, calories burned, sleep patterns.

According to Fourati and Said \autocite{chaari2020remote}, the general architecture of the remote health monitoring systems can be structured into three tiers.
The first tier consists of wearable sensors attached to the human body and the gateway or coordinator. The communication between the sensor and the smartphone, which acts as the coordinator, takes place through BLE. In the first tier, the sensor transmits data to the smartphone via BLE.
The second tier consists of the networking infrastructure, enabling connectivity between the smartphone and remote servers, as well as between the smartphone and the cloud. 
Lastly, the third tier contains medical web servers for data visualization and a private cloud for secure data storage and processing. 
\autoref{fig:3_tiers_arch} illustrates the three tiers architecture incorporating BLE.
\begin{figure}[H]
  \centering
  \includegraphics[width=1\textwidth]{images/3-tiers-arch.png}
  \caption{Remote healthcare monitoring system integrating BLE communication interfaces architecture; Source \autocite{chaari2020remote}}
  \label{fig:3_tiers_arch}
\end{figure}

Although storing user data in the cloud offers many advantages, it may also bring some risks.
Sensitive user data may be vulnerable to loss and interception, raising concerns about data privacy and security. \autocite{kapoor2020privacy}

Therefore, the challenges remain in maintaining a straightforward application and ensuring users' privacy. The aim in this thesis is to explore the possibilities of improving health and wellbeing of the user by providing real-time data on their heart rate while providing users full control over their own data.
Furthermore, to mitigate the risks of data loss and interception, a careful approach is taken by storing the data locally, ensuring that user data remains secure on the user's device.
By addressing these challenges, this thesis intends to develop a prototype of a more user- and privacy-friendly health activity monitor application using BLE.
\newpage

\section{Requirements}
\label{chap:requirements}
In this chapter, the requirements of the application is listed by identifying and analyzing the use cases from the goals and priorities.

\subsection{Use Cases}
\label{chap:use_case}
A use case diagram is created to provide a clearer understanding of how the system works and the various usage scenarios. It offers a clear and straightforward visualization that aligns with the goal of the thesis.
\begin{figure}[H]
    \centering
    \includegraphics[width=1\textwidth]{diagrams/usecase.drawio.png}
    \caption{Use case diagram of the health and activity monitor application}
    \label{fig:use_cases}
\end{figure}
\newpage
\autoref{fig:use_cases} provides visual presentation of the primary system functionalities and identifies the actor that interacts with the system.
The system includes several use cases to provide a comprehensive experience for monitoring health and activity while ensuring user's data privacy.

The primary use case, "Monitor Health", allows users to track important health indicators such as heart rate, calories burned, and current activity. It consists of three sub-use cases: "Display Real-Time Heart Rate", which shows the user's live heart rate on the application's interface; "Calculate Calories Burned", which calculates the number of calories burned in an exercise based on the user's heart rate;  "Monitor Activity", which observes the user's ongoing physical activity intensity. In addition, the system includes "Manage User Profile" use case, which handles user profile management and data manipulation. Users can update or insert or delete data anytime using the respective sub-use cases. By integrating these use cases, the system effectively monitors health metrics and allows user to conveniently manage their data.

\subsection{User Stories}
\label{chap:user_stories}
According to the use cases visualized on \autoref{fig:use_cases}, the following user stories can be determined:

\begin{itemize}[label={},leftmargin=*]
    \item \textbf{Track and Monitor Real-Time Heart Rate}
      \begin{itemize}[label={},leftmargin=*]
        \item As a health-oriented user, I want to monitor my cardiovascular activity so that I can stay informed about my physical wellbeing.
      \end{itemize}

    \item \textbf{Track and Monitor Current Activity}
      \begin{itemize}[label={},leftmargin=*]
        \item As a physically active individuals, I want to track my current activity so that I can make adjustments to my physical activities.
      \end{itemize}

    \item \textbf{Calculate Calories Burned}
      \begin{itemize}[label={},leftmargin=*]
        \item As a fitness enthusiast, I want to know the number of calories burned in my exercises. This allows me to keep track of my progress and make adjustments to my exercises.
      \end{itemize}  

    \item \textbf{Profile Management}
      \begin{itemize}[label={},leftmargin=*]
        \item As a user of the application who is concerned about data privacy, I want full control of my data so that I can manage it easily. 
      \end{itemize}
  \end{itemize}


\subsection{Application Quality Standard}
The evaluation of the application developed for this thesis is guided by the core application quality standard outlined in Android Documentation \autocite{androidqualityguidelines}. These quality standards provide core foundation for assessing the quality of the application. 
To facilitate the evaluation a set of criteria is derived from the core application quality standard described in Android Documentation \autocite{androidqualityguidelines}. \autoref{tab:qualitystandard} shows the criteria, along with the sub-characteristic as well as its relevance to the project. These criteria will be reviewed during the evaluation process to assess the quality of the developed application.
\input{chapters/ra/quality-standards-table.tex}